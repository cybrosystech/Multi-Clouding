<odoo>
    <data>
        <!-- Inherit Form View to Modify it -->
        <record id="view_inherit_view_account_analytic_account_form_inherit_budget" model="ir.ui.view">
            <field name="name">view_inheritview_account_analytic_account_form_inherit_budget</field>
            <field name="model">account.analytic.account</field>
            <field name="inherit_id" ref="account_budget.view_account_analytic_account_form_inherit_budget"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='parent_id']" position="after">
                    <field name="analytic_type_filter_id" attrs="{'invisible':[('analytic_account_type','!=','project_site')]}"/>
                    <field name="analytic_location_id" attrs="{'invisible':[('analytic_account_type','!=','project_site')]}"/>
                </xpath>
                <xpath expr="//notebook/page[@name='budget_items']" position="attributes">
                    <attribute name="attrs">{'invisible':[('analytic_account_type','!=','cost_center')]}</attribute>
                </xpath>
                <xpath expr="//notebook/page[@name='budget_items']//field/tree/field[@name='percentage']" position="after">
                     <field name="remaining_amount"/>
                    <field name="actual_percentage"/>
                </xpath>
                <xpath expr="//notebook/page[@name='budget_items']//field/form/group/field[@name='planned_amount']" position="after">
                     <field name="remaining_amount"/>
                    <field name="actual_percentage"/>
                </xpath>
                <xpath expr="//notebook" position="inside">
                    <page string="Budget Items" name="budget_items_proj" attrs="{'invisible':[('analytic_account_type','!=','project_site')]}">
                                <field name="crossovered_budget_proj_line" widget="one2many" colspan="4" nolabel="1" mode="tree">
                                    <tree string="Budget Items" editable="top">
                                        <field name="crossovered_budget_id"/>
                                        <field name="general_budget_id"/>
                                        <field name="date_from"/>
                                        <field name="date_to"/>
                                        <field name="paid_date"/>
                                        <field name="planned_amount" widget="monetary"/>
                                        <field name="practical_amount" sum="Practical Amount" widget="monetary"/>
                                        <field name="theoritical_amount" sum="Theoritical Amount" widget="monetary"/>
                                        <field name="percentage"/>
                                        <field name="remaining_amount"/>
                                        <field name="actual_percentage"/>
                                        <field name="currency_id" invisible="1"/>
                                    </tree>
                                    <form string="Budget Items">
                                        <group>
                                        <field name="crossovered_budget_id"/>
                                        <field name="general_budget_id"/>
                                        <field name="date_from"/>
                                        <field name="date_to"/>
                                        <field name="paid_date"/>
                                        <field name="planned_amount" widget="monetary"/>
                                        <field name="remaining_amount"/>
                                        <field name="actual_percentage"/>
                                        <field name="currency_id" invisible="1"/>
                                        </group>
                                    </form>
                                </field>
                        </page>
                    <page string="Budget Items" name="budget_items_type" attrs="{'invisible':[('analytic_account_type','!=','type')]}">
                                <field name="crossovered_budget_type_line" widget="one2many" colspan="4" nolabel="1" mode="tree">
                                    <tree string="Budget Items" editable="top">
                                        <field name="crossovered_budget_id"/>
                                        <field name="general_budget_id"/>
                                        <field name="date_from"/>
                                        <field name="date_to"/>
                                        <field name="paid_date"/>
                                        <field name="planned_amount" widget="monetary"/>
                                        <field name="practical_amount" sum="Practical Amount" widget="monetary"/>
                                        <field name="theoritical_amount" sum="Theoritical Amount" widget="monetary"/>
                                        <field name="percentage"/>
                                        <field name="remaining_amount"/>
                                        <field name="actual_percentage"/>
                                        <field name="currency_id" invisible="1"/>
                                    </tree>
                                    <form string="Budget Items">
                                        <group>
                                        <field name="crossovered_budget_id"/>
                                        <field name="general_budget_id"/>
                                        <field name="date_from"/>
                                        <field name="date_to"/>
                                        <field name="paid_date"/>
                                        <field name="planned_amount" widget="monetary"/>
                                        <field name="remaining_amount"/>
                                        <field name="actual_percentage"/>
                                        <field name="currency_id" invisible="1"/>
                                        </group>
                                    </form>
                                </field>
                        </page>
                    <page string="Budget Items" name="budget_items_loc" attrs="{'invisible':[('analytic_account_type','!=','location')]}">
                                <field name="crossovered_budget_loc_line" widget="one2many" colspan="4" nolabel="1" mode="tree">
                                    <tree string="Budget Items" editable="top">
                                        <field name="crossovered_budget_id"/>
                                        <field name="general_budget_id"/>
                                        <field name="date_from"/>
                                        <field name="date_to"/>
                                        <field name="paid_date"/>
                                        <field name="planned_amount" widget="monetary"/>
                                        <field name="practical_amount" sum="Practical Amount" widget="monetary"/>
                                        <field name="theoritical_amount" sum="Theoritical Amount" widget="monetary"/>
                                        <field name="percentage"/>
                                        <field name="remaining_amount"/>
                                        <field name="actual_percentage"/>
                                        <field name="currency_id" invisible="1"/>
                                    </tree>
                                    <form string="Budget Items">
                                        <group>
                                        <field name="crossovered_budget_id"/>
                                        <field name="general_budget_id"/>
                                        <field name="date_from"/>
                                        <field name="date_to"/>
                                        <field name="paid_date"/>
                                        <field name="planned_amount" widget="monetary"/>
                                        <field name="remaining_amount"/>
                                        <field name="actual_percentage"/>
                                        <field name="currency_id" invisible="1"/>
                                        </group>
                                    </form>
                                </field>
                        </page>
                </xpath>
            </field>
        </record>
    </data>
</odoo>