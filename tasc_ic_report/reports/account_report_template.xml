<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <template id="report_account_balance">
        <t t-call="web.html_container">
                <t t-call="tasc_invoice_report_general.external_layout_inv_template">
                    <div class="page">
                    <div class="oe_structure"/>
                    <p style="text-align:center;font-weight:bold;font-size:18px;">
                        Debit Note
                    </p>
<!--                    <div class="row">-->
<!--                        <t t-esc="data"/>-->
<!--                        <span>__________________________</span>-->
<!--                        <br/>-->
<!--                        <t t-esc="res"/>-->
<!--                    </div>-->
                    <div class="row">
                        <div class="col-6">
                            <div>
                                <span style="font-weight:bold">Bill To:</span>
                            </div>
                            <div>
                                <span t-field="cmpny.partner_id"
                                      t-options='{"widget": "contact", "fields": ["name", "address"]}'/>
                            </div>

<!--                            <div>-->
<!--                                <span style="font-weight:bold">Tax ID:</span>-->
<!--                                <span t-field="doc.partner_id.vat"/>-->
<!--                            </div>-->
                        </div>

                        <div class="col-6">
                            <div>
                                <span style="font-weight:bold">Debit Note Date:
                                </span>
                                <t t-esc="data['ending_balance_date']"/>
                            </div>
<!--                            <div>-->
<!--                                <span style="font-weight:bold">Debit Note No.:-->
<!--                                </span>-->
<!--                                <span t-field="doc.name"/>-->
<!--                            </div>-->
<!--                            <div>-->
<!--                                <t t-if="doc.invoice_payment_term_id">-->
<!--                                    <span style="font-weight:bold">Payment-->
<!--                                        Terms:-->
<!--                                    </span>-->
<!--                                    <span t-field="doc.invoice_payment_term_id.name"/>-->
<!--                                </t>-->
<!--                                <t t-else="">-->
<!--                                    <span style="font-weight:bold">Due Date:-->
<!--                                    </span>-->
<!--                                    <span t-field="doc.invoice_date_due"/>-->
<!--                                </t>-->
<!--                            </div>-->
                            <div>
                                <span style="font-weight:bold">Currency:
                                    </span>
                                <t t-esc="data['currency']"/>
<!--                                    <span t-field="doc.currency_id.name"/>-->
                            </div>

                        </div>

                    </div>

                    <style>
                        .custom_table_lines thead th, .custom_table_lines tbody
                        td{
                        border: 2px solid #636161;
                        padding: 5px;
                        }
                        .custom_table_lines thead th{
                        background: #ccc;
                        color: #636161;
                        }
                        .box{
                        width: 100%;
                        border: 1px solid #ccc !important;
                        margin-bottom: 10px;
                        padding: 5px;
                        }
                        .totals_box{
                        border: 1px solid #ccc !important;
                        margin-bottom: 10px;
                        padding: 5px;
                        float: right;
                        width: 25%;
                        }
                        .totals_box{
                        width: 25%;
                        position: relative;
                        right: 0;
                        }
                        .totals_amount_line{
                        padding: 40px 20px;
                        }
                    </style>
                    <br/>
                    <div>
                        <table class="custom_table_lines" width="100%">
                            <thead>
                                <tr>
                                    <th>No.</th>
                                    <th>Description</th>
                                    <th>Balance</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="line_index" t-value="0"/>
                                <t t-foreach="res" t-as="line">
                                    <tr>
                                        <td>
                                            <span t-set="line_index"
                                                  t-value="line_index+1"/>

                                            <span t-esc="line_index"/>
                                        </td>
                                        <td>
                                            <span t-esc="line['name']"/>
                                        </td>
                                        <td>

                                            <span t-esc="line['balance']"/>
                                        </td>

                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
<!--                    <div class="row">-->
<!--                        <div class="col-10 text-right">-->
<!--                            <span style="font-weight:bold">Sub Total-->
<!--                            </span>-->
<!--                            <br/>-->
<!--                            <span style="font-weight:bold">-->
<!--                                <t t-if="taxes">-->
<!--                                    <span t-esc="', '.join(map(lambda x: (x.name), doc.invoice_line_ids.mapped('tax_ids')))"/>-->
<!--                                </t>-->
<!--                                <t t-else="">-->
<!--                                    <span>Tax</span>-->
<!--                                </t>-->
<!--                            </span>-->
<!--                            <br/>-->
<!--                            <span style="font-weight:bold">Total-->
<!--                            </span>-->
<!--                        </div>-->
<!--                        <div class="col-3">-->
<!--                            <t t-set="amount_untaxed"-->
<!--                               t-value="'{:20,.2f}'.format(doc.amount_untaxed)"/>-->
<!--                            <span t-esc="doc.currency_id.symbol"/>-->
<!--                            <span style="font-weight:bold"-->
<!--                                  t-esc="'{:20,.2f}'.format(doc.amount_untaxed)"/>-->
<!--                            <br/>-->
<!--                            <span t-esc="doc.currency_id.symbol"/>-->
<!--                            <span style="font-weight:bold"-->
<!--                                  t-esc="'{:20,.2f}'.format(doc.amount_tax)"/>-->
<!--                            <br/>-->
<!--                            <span t-esc="doc.currency_id.symbol"/>-->
<!--                            <span style="font-weight:bold"-->
<!--                                  t-esc="'{:20,.2f}'.format(doc.amount_total)"/>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="row">-->
<!--                        <div class="col-12">-->
<!--                            <img t-if="doc.company_id.company_stamp"-->
<!--                                 class="float-right"-->
<!--                                 style="max-width: 100%; height: 70px;"-->
<!--                                 t-att-src="image_data_uri(doc.company_id.company_stamp)"-->
<!--                                 alt="Stamp"/>-->
<!--                        </div>-->
                    </div>
                    <div class="row" style="position:fixed;top:1100px;line-break:avoid;width:1000px;">
                        <div class="col-lg">
                            <span style="font-weight:bold;">This is an
                                automated
                                Debit Note and no signature required.
                            </span>
                        </div>
                    </div>
<!--                </div>-->
                </t>
            </t>
    </template>
</odoo>